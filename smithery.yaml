startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      projectPath:
        type: string
        description: "Path to the project root for project-scoped memories."
      globalPath:
        type: string
        description: "Path to the global memory database."
      embedding:
        type: string
        enum: ["none", "local", "ollama", "openai"]
        description: "Embedding provider to use. Default: none."
    required: []
  commandFunction:
    |-
    (config) => {
      const env = {};
      if (config.projectPath) env.MEMORYMESH_PATH = config.projectPath + '/.memorymesh/memories.db';
      if (config.globalPath) env.MEMORYMESH_GLOBAL_PATH = config.globalPath;
      if (config.embedding) env.MEMORYMESH_EMBEDDING = config.embedding;
      return {
        command: 'uvx',
        args: ['memorymesh-mcp'],
        env
      };
    }
