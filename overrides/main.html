{% extends "base.html" %}

{% block extrahead %}
  {% set page_title = page.meta.title if page and page.meta and page.meta.title else (page.title if page else config.site_name) %}
  {% set page_desc = page.meta.description if page and page.meta and page.meta.description else config.site_description %}
  {% set page_url = page.canonical_url if page else config.site_url %}

  <!-- Primary Meta Tags -->
  <meta name="title" content="{{ page_title }} - MemoryMesh">
  <meta name="description" content="{{ page_desc }}">
  <meta name="keywords" content="AI memory, LLM memory, persistent memory, SQLite, MCP server, Claude, GPT, Gemini, Ollama, embeddings, semantic search, open source, Python">
  <meta name="author" content="SparkVibe">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page_url }}">
  <meta property="og:title" content="{{ page_title }} - MemoryMesh">
  <meta property="og:description" content="{{ page_desc }}">
  <meta property="og:site_name" content="MemoryMesh">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ page_url }}">
  <meta property="twitter:title" content="{{ page_title }} - MemoryMesh">
  <meta property="twitter:description" content="{{ page_desc }}">

  <!-- Canonical URL -->
  {% if page %}
  <link rel="canonical" href="{{ page.canonical_url }}">
  {% endif %}

  <!-- JSON-LD Structured Data (homepage only) -->
  {% if page and page.is_homepage %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "MemoryMesh",
    "description": "{{ config.site_description }}",
    "url": "{{ config.site_url }}",
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Linux, macOS, Windows",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "SparkVibe",
      "url": "https://sparkvibe.io"
    },
    "license": "https://opensource.org/licenses/MIT",
    "programmingLanguage": "Python",
    "codeRepository": "https://github.com/sparkvibe-io/memorymesh"
  }
  </script>
  {% endif %}
{% endblock %}
